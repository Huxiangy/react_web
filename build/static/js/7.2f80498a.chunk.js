(this.webpackJsonpreact_web=this.webpackJsonpreact_web||[]).push([[7],{376:function(e,t){e.exports="data:image/jpeg;base64,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"},377:function(e,t,n){},867:function(e,t,n){"use strict";n.r(t);n(372);var a=n(865),r=(n(249),n(270)),c=n(19),l=n(20),o=n(22),i=n(21),u=n(23),s=(n(130),n(131)),A=n(0),m=n.n(A),p=n(8),h=n(29),g=n(14),E=[{path:"/index",exact:!0,name:"Index",component:Object(g.a)((function(){return Promise.all([n.e(3),n.e(8)]).then(n.bind(null,868))})),auth:[1]},{path:"/public/1",exact:!1,name:"PublicPage1",component:Object(g.a)((function(){return n.e(11).then(n.bind(null,871))})),auth:[1]},{path:"/public/2",exact:!1,name:"PublicPage2",component:Object(g.a)((function(){return n.e(13).then(n.bind(null,872))})),auth:[1]},{path:"/private/1",exact:!1,name:"PrivatePage1",component:Object(g.a)((function(){return n.e(12).then(n.bind(null,873))}))},{path:"/private/2",exact:!1,name:"PrivatePage2",component:Object(g.a)((function(){return n.e(10).then(n.bind(null,874))}))}],f=n(28),y=n(376),d=n.n(y),O=[{key:"/index",title:"\u9996\u9875",icon:"home",auth:[1]},{title:"\u901a\u7528",key:"/public",icon:"appstore",auth:[1],subs:[{title:"\u901a\u7528\u4e00",key:"/public/1",icon:""},{title:"\u901a\u7528\u4e8c",key:"/public/2",icon:""}]},{title:"\u6743\u9650\u7ba1\u7406",key:"/nav",icon:"bulb",subs:[{title:"\u6743\u9650\u4e00",key:"/private/1",icon:""},{title:"\u6743\u9650\u4e8c",key:"/private/2",icon:""}]}],b=(n(377),n(378),n(864)),k=(n(381),n(441)),v=(n(150),n(69)),j=(n(370),n(367)),z=s.a.Header,C=m.a.memo((function(e){var t=e.menuClick,n=e.avatar,a=e.menuToggle,r=e.loginOut,c=m.a.createElement(j.a,null,m.a.createElement(j.a.ItemGroup,{title:"\u7528\u6237\u8bbe\u7f6e"},m.a.createElement(j.a.Divider,null),m.a.createElement(j.a.Item,null,m.a.createElement(v.a,{type:"edit"}),"\u4e2a\u4eba\u8bbe\u7f6e"),m.a.createElement(j.a.Item,null,m.a.createElement(v.a,{type:"setting",theme:"filled"}),"\u7cfb\u7edf\u8bbe\u7f6e")),m.a.createElement(j.a.Divider,null),m.a.createElement(j.a.Item,null,m.a.createElement("span",{onClick:r},m.a.createElement(v.a,{type:"logout"})," \u9000\u51fa\u767b\u5f55")));return m.a.createElement(z,{className:"header"},m.a.createElement("div",{className:"left"},m.a.createElement(v.a,{style:{fontSize:"2rem"},onClick:t,type:a?"menu-unfold":"menu-fold"})),m.a.createElement("div",{className:"right"},m.a.createElement("div",null,m.a.createElement(b.a,{overlay:c,overlayStyle:{width:"20rem"}},m.a.createElement("div",{className:"ant-dropdown-link"},m.a.createElement(k.a,{icon:"user",src:n,alt:"avatar",style:{cursor:"pointer"}}))))))})),w=n(24),M=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(r)))).state={openKeys:[],selectedKeys:[]},n.getOpenKeys=function(e){for(var t="",n=[],a=e.split("/").map((function(e){return"/"+e})),r=1;r<a.length-1;r++)t+=a[r],n.push(t);return n},n.onOpenChange=function(e){if(0!==e.length&&1!==e.length){var t=e[e.length-1];t.includes(e[0])?n.setState({openKeys:e}):n.setState({openKeys:[t]})}else n.setState({openKeys:e})},n.renderMenuItem=function(e){var t=e.key,n=e.icon,a=e.title;return m.a.createElement(j.a.Item,{key:t},m.a.createElement(w.b,{to:t},n&&m.a.createElement(v.a,{type:n}),m.a.createElement("span",null,a)))},n.renderSubMenu=function(e){var t=e.key,a=e.icon,r=e.title,c=e.subs;return m.a.createElement(j.a.SubMenu,{key:t,title:m.a.createElement("span",null,a&&m.a.createElement(v.a,{type:a}),m.a.createElement("span",null,r))},c&&c.map((function(e){return e.subs&&e.subs.length>0?n.renderSubMenu(e):n.renderMenuItem(e)})))},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location.pathname;this.setState({selectedKeys:[e],openKeys:this.getOpenKeys(e)})}},{key:"componentDidUpdate",value:function(e,t){var n=this.props.location.pathname;e.location.pathname!==n&&this.setState({selectedKeys:[n],openKeys:this.getOpenKeys(n)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.openKeys,a=t.selectedKeys;return m.a.createElement(j.a,{mode:"inline",theme:"dark",openKeys:n,selectedKeys:a,onClick:function(t){var n=t.key;return e.setState({selectedKeys:[n]})},onOpenChange:this.onOpenChange},this.props.menu&&this.props.menu.map((function(t){return t.subs&&t.subs.length>0?e.renderSubMenu(t):e.renderMenuItem(t)})))}}]),t}(A.Component),I=Object(p.g)(M),S=s.a.Sider,B=function(e){var t=e.menuToggle,n=e.menu;return m.a.createElement(S,{className:"aside",collapsed:t},m.a.createElement("div",{className:"logo"},m.a.createElement("a",{rel:"noopener noreferrer",href:"https://github.com/Huxiangy",target:"_blank"},m.a.createElement(v.a,{type:"github",style:{fontSize:"3.8rem",color:"#fff"}}))),m.a.createElement(I,{menu:n}))},Q=s.a.Footer,D=function(){return m.a.createElement(Q,{className:"footer"},"React demo \xa92020 Created")},K=s.a.Content,x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];return(n=Object(o.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={avatar:d.a,show:!0,menu:[]},n.isLogin=function(){localStorage.getItem("user")?n.setState({menu:n.getMenu(O)}):n.props.history.push("/login")},n.loginOut=function(){localStorage.clear(),n.props.history.push("/login"),r.a.success("\u767b\u51fa\u6210\u529f!")},n.getMenu=function(e){var t=JSON.parse(localStorage.getItem("user")).auth;return t?e.filter((function(e){return e.auth&&-1!==e.auth.indexOf(t)})):e},n}return Object(u.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.isLogin()}},{key:"componentDidUpdate",value:function(){this.props.location.pathname}},{key:"componentWillUnmount",value:function(){this.timer&&clearTimeout(this.timer)}},{key:"render",value:function(){console.log(this.props);var e=this.props,t=e.menuClick,n=e.menuToggle,r=(JSON.parse(localStorage.getItem("user"))?JSON.parse(localStorage.getItem("user")):"").auth;return m.a.createElement(s.a,{className:"app"},m.a.createElement(a.a,null),m.a.createElement(B,{menuToggle:n,menu:this.state.menu}),m.a.createElement(s.a,{style:{marginLeft:n?"80px":"200px",minHeight:"100vh"}},m.a.createElement(C,{menuToggle:n,menuClick:t,avatar:this.state.avatar,show:this.state.show,loginOut:this.loginOut}),m.a.createElement(K,{className:"content"},m.a.createElement(p.d,null,E.map((function(e){return m.a.createElement(p.b,{key:e.path,path:e.path,exact:e.exact,render:function(t){return r?e.auth&&-1!==e.auth.indexOf(r)?m.a.createElement(e.component,t):m.a.createElement(p.a,Object.assign({to:"/404"},t)):m.a.createElement(e.component,t)}})})),m.a.createElement(p.a,{to:"/404"}))),m.a.createElement(D,null)))}}]),t}(A.Component),P=Object(p.g)(Object(h.b)((function(e){return{menuToggle:e.menuToggle}}),(function(e){return{menuClick:function(){e({type:f.a})}}}))(x));t.default=P}}]);
//# sourceMappingURL=7.2f80498a.chunk.js.map